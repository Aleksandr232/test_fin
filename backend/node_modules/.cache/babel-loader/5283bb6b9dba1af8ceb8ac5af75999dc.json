{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizePagePath = normalizePagePath;\n\nvar _ensureLeadingSlash = require(\"./ensure-leading-slash\");\n\nvar _utils = require(\"../router/utils\");\n\nvar _path = require(\"../isomorphic/path\");\n\nvar _utils1 = require(\"../utils\");\n\nfunction normalizePagePath(page) {\n  const normalized = (0, _ensureLeadingSlash).ensureLeadingSlash(/^\\/index(\\/|$)/.test(page) && !(0, _utils).isDynamicRoute(page) ? `/index${page}` : page === '/' ? '/index' : page);\n\n  const resolvedPage = _path.posix.normalize(normalized);\n\n  if (resolvedPage !== normalized) {\n    throw new _utils1.NormalizeError(`Requested and resolved page mismatch: ${normalized} ${resolvedPage}`);\n  }\n\n  return normalized;\n}","map":{"version":3,"mappings":"AAAA;;;;;QAcgBA;;AAdmB,uBAAwB,WAAxB,wBAAwB,CAAxB;;AACJ,UAAiB,WAAjB,iBAAiB,CAAjB;;AACT,SAAoB,WAApB,oBAAoB,CAApB;;AACS,WAAU,WAAV,UAAU,CAAV;;AAWxB,SAASA,iBAAT,CAA2BC,IAA3B,EAAiD;EACtD,MAAMC,UAAU,GAAGC,yBAMlBA,kBANkBA,CACjB,iBAAiBC,IAAjB,CAAsBH,IAAtB,KAA+B,CAACI,YAAoBA,cAApBA,CAAeJ,IAAfI,CAAhC,GACK,SAAQJ,IAAK,EADlB,GAEIA,IAAI,KAAK,GAATA,GACA,QADAA,GAEAA,IALaE,CAAnB;;EAQA,MAAMG,YAAY,GAAGC,KAAK,MAALA,CAAMC,SAAND,CAAgBL,UAAhBK,CAArB;;EACA,IAAID,YAAY,KAAKJ,UAArB,EAAiC;IAC/B,MAAM,IAAIO,OAAc,eAAlB,CACH,yCAAwCP,UAAW,IAAGI,YAAa,EADhE,CAAN;EAGD;;EAED,OAAOJ,UAAP;AACD","names":["normalizePagePath","page","normalized","ensureLeadingSlash","test","isDynamicRoute","resolvedPage","posix","normalize","NormalizeError"],"sources":["../../../../shared/lib/page-path/normalize-page-path.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}